---
page_title: "Provider: CloudKeeper Prism"
description: |-
  The CloudKeeper Prism provider is used to interact with CloudKeeper's identity and access management (IAM) platform for AWS.
---

# CloudKeeper Prism Provider

The CloudKeeper Prism provider allows you to manage your CloudKeeper Prism infrastructure as code. CloudKeeper Prism is an identity and access management platform that provides centralized authentication and authorization for AWS environments.

Use the provider to manage:

- **AWS Accounts**: Onboard and configure AWS accounts for SSO access
- **Permission Sets**: Define IAM policies and session durations for AWS access
- **Users & Groups**: Manage user identities and group memberships
- **Permission Set Assignments**: Grant users and groups access to AWS accounts with specific permission sets
- **Identity Providers**: Configure external identity providers (Google, Microsoft, Keycloak, custom OIDC)

## Example Usage

```terraform
terraform {
  required_version = ">= 1.0"

  required_providers {
    prism = {
      source  = "CloudKeeper-Inc/prism"
      version = "~> 1.0"
    }
  }
}

# Configure the CloudKeeper Prism Provider
provider "prism" {
  # Subdomain for your CloudKeeper Prism instance
  # Example: if your URL is https://acme.prism.cloudkeeper.com, use "acme"
  prism_subdomain = "your-subdomain"

  # API token for authentication
  # Best practice: use environment variable PRISM_API_TOKEN or a variable
  api_token = var.prism_api_token
}

variable "prism_api_token" {
  type        = string
  description = "CloudKeeper Prism API token"
  sensitive   = true
}
```

## Authentication

The provider requires a CloudKeeper Prism subdomain and API token for authentication.

### Environment Variables

You can provide credentials via environment variables:

```shell
export PRISM_SUBDOMAIN="your-subdomain"
export PRISM_API_TOKEN="your-api-token"
```

### Configuration

Alternatively, you can specify credentials directly in the provider configuration (not recommended):

```terraform
provider "prism" {
  prism_subdomain = "your-subdomain"
  api_token       = "your-api-token"
}
```

## Schema

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `api_token` (String, Sensitive) The API token for authentication with CloudKeeper. Can also be set via the `PRISM_API_TOKEN` environment variable.
- `prism_subdomain` (String) The Prism subdomain for CloudKeeper API paths. Can also be set via the `PRISM_SUBDOMAIN` environment variable.

## Getting Started

1. **Onboard AWS Accounts**: Start by adding your AWS accounts using the `prism_aws_account` resource
2. **Create Permission Sets**: Define permission sets with IAM policies using `prism_permission_set`
3. **Manage Users/Groups**: Create users and groups with `prism_user` and `prism_group`
4. **Assign Permissions**: Grant access by creating `prism_permission_set_assignment` resources
5. **Configure SSO**: Set up identity providers with `prism_identity_provider`

For a complete example showing all resources working together, see [examples/complete-example.tf](https://github.com/CloudKeeper-Inc/terraform-provider-prism/blob/main/examples/complete-example.tf).

## Support

- **Documentation**: [CloudKeeper Prism Docs](https://docs.cloudkeeper.com)
- **Issues**: [GitHub Issues](https://github.com/CloudKeeper-Inc/terraform-provider-prism/issues)
- **Provider Registry**: [Terraform Registry](https://registry.terraform.io/providers/CloudKeeper-Inc/prism/latest)
